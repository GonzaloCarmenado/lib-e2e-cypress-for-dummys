<div class="test-previsualizer-outer">
  <div class="previsualizer-block" [ngClass]="showInterceptors ? 'interceptors-expanded' : 'interceptors-collapsed'">
    <div class="previsualizer-section-title previsualizer-collapsible-title"
      tabindex="0"
      (click)="showInterceptors = !showInterceptors"
      (keyup)="($event.key === 'Enter' || $event.key === ' ') && (showInterceptors = !showInterceptors)"
      style="cursor:pointer;"
      role="button"
     >
      {{ translation.translate('SAVE_TEST_DATA.INTERCEPTORS_LABEL') }} ({{ interceptors.length }})
      <span>{{ showInterceptors ? 'â–²' : 'â–¼' }}</span>
    </div>
    <button class="btn btn-copy-interceptors" *ngIf="showInterceptors" (click)="copyInterceptorsToClipboard()"
      [title]="translation.translate('SAVE_TEST_DATA.COPY_INTERCEPTORS_LABEL')">
      ðŸ“‹
    </button>
    <div class="previsualizer-scroll" *ngIf="showInterceptors" #scrollInterceptors>
      <ng-container *ngIf="interceptors.length > 0; else noInterceptors">
        <pre *ngFor="let interceptor of interceptors" class="previsualizer-command">{{ interceptor }}</pre>
      </ng-container>
      <ng-template #noInterceptors>
        <div class="previsualizer-empty">{{ translation.translate('SAVE_TEST_DATA.NO_INTERCEPTORS_LABEL') }}</div>
      </ng-template>
    </div>
  </div>
  <div class="previsualizer-block commands">
    <div class="previsualizer-section-title">{{ translation.translate('SAVE_TEST_DATA.CYPRESS_COMMANDS_LABEL') }}</div>
    <button class="btn btn-copy" (click)="copyToClipboard()" [title]="translation.translate('SAVE_TEST_DATA.COPY_COMMANDS_LABEL')">
      ðŸ“‹
    </button>
    <div class="previsualizer-scroll special-size-commands" #scrollCommands>
      <ng-container *ngIf="cypressCommands.length > 0; else noCommands">
        <pre *ngFor="let cmd of cypressCommands" class="previsualizer-command">{{ cmd }}</pre>
      </ng-container>
      <ng-template #noCommands>
        <div class="previsualizer-empty">{{ translation.translate('SAVE_TEST_DATA.NO_COMMANDS_LABEL') }}</div>
      </ng-template>
    </div>
  </div>
</div>
<div class="test-previsualizer-outer">
  <div class="previsualizer-block" [ngClass]="showInterceptors ? 'interceptors-expanded' : 'interceptors-collapsed'">
    <div class="previsualizer-section-title previsualizer-collapsible-title"
      (click)="showInterceptors = !showInterceptors" style="cursor:pointer;">
      Interceptors ({{ interceptors.length }})
      <span>{{ showInterceptors ? 'â–²' : 'â–¼' }}</span>
    </div>
    <button class="btn btn-copy-interceptors" *ngIf="showInterceptors" (click)="copyInterceptorsToClipboard()"
      title="Copiar interceptors">
      ðŸ“‹
    </button>
    <div class="previsualizer-scroll" *ngIf="showInterceptors">
      <ng-container *ngIf="interceptors.length > 0; else noInterceptors">
        <pre *ngFor="let interceptor of interceptors" class="previsualizer-command">{{ interceptor }}</pre>
      </ng-container>
      <ng-template #noInterceptors>
        <div class="previsualizer-empty">No hay interceptors para este test.</div>
      </ng-template>
    </div>
  </div>
  <div class="previsualizer-block commands">
    <div class="previsualizer-section-title">Comandos Cypress</div>
    <button class="btn btn-copy" (click)="copyToClipboard()" title="Copiar comandos">
      ðŸ“‹
    </button>
    <div class="previsualizer-scroll">
      <ng-container *ngIf="cypressCommands.length > 0; else noCommands">
        <pre *ngFor="let cmd of cypressCommands" class="previsualizer-command">{{ cmd }}</pre>
      </ng-container>
      <ng-template #noCommands>
        <div class="previsualizer-empty">No hay comandos para este test.</div>
      </ng-template>
    </div>
  </div>
</div>